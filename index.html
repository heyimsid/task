<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Monitor App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <style>
        .btn-hover {
            transition: all 0.2s ease;
            transform: scale(1);
        }
        .btn-hover:hover {
            transform: scale(1.03);
        }
        .btn-hover:active {
            transform: scale(0.98);
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div id="root"></div>

    <script type="module">
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // React components
        const { createElement: h, useState, useEffect, createContext, useContext } = React;

        // App Context
        const AppContext = createContext();

        function AppProvider({ children }) {
            const [currentUser, setCurrentUser] = useState(null);
            const [userId, setUserId] = useState(null);
            const [isAdmin, setIsAdmin] = useState(false);
            const [isLoading, setIsLoading] = useState(true);

            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged(async (user) => {
                    if (user) {
                        setCurrentUser(user);
                        setUserId(user.uid);
                        setIsLoading(false);
                    } else {
                        setCurrentUser(null);
                        setUserId(null);
                        setIsLoading(false);
                    }
                });
                return () => unsubscribe();
            }, []);

            return (
                h(AppContext.Provider, { 
                    value: { db, auth, currentUser, userId, isAdmin, isLoading } 
                }, children)
            );
        }

        function useAppContext() {
            return useContext(AppContext);
        }

        // Modal Component
        function Modal({ title, message, isOpen, onClose, onConfirm, showConfirmButton }) {
            if (!isOpen) return null;

            return h('div', { className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50' },
                h('div', { className: 'bg-white rounded-xl shadow-2xl p-6 w-full max-w-sm transition-all duration-300' },
                    h('h3', { className: 'text-xl font-bold text-gray-800 mb-4' }, title),
                    h('p', { className: 'text-gray-600 mb-6' }, message),
                    h('div', { className: 'flex justify-end space-x-3' },
                        h('button', {
                            onClick: onClose,
                            className: 'bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-5 rounded-lg transition-colors duration-200 shadow-sm'
                        }, 'Close'),
                        showConfirmButton && h('button', {
                            onClick: onConfirm,
                            className: 'bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-5 rounded-lg transition-colors duration-200 shadow-md'
                        }, 'Confirm')
                    )
                )
            );
        }

        // Loading Spinner
        function LoadingSpinner() {
            return h('div', { className: 'flex justify-center items-center' },
                h('div', { className: 'animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500' })
            );
        }

        // Login/Signup Page
        function LoginPage({ onLoginSuccess }) {
            const { auth, isLoading } = useAppContext();
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [name, setName] = useState('');
            const [isSignup, setIsSignup] = useState(false);
            const [error, setError] = useState('');
            const [isModalOpen, setIsModalOpen] = useState(false);

            const handleAuth = async (e) => {
                e.preventDefault();
                try {
                    if (isSignup) {
                        await auth.createUserWithEmailAndPassword(email, password);
                        setIsSignup(false);
                        setError('');
                    } else {
                        await auth.signInWithEmailAndPassword(email, password);
                        onLoginSuccess();
                    }
                } catch (err) {
                    setError(err.message);
                    setIsModalOpen(true);
                }
            };

            if (isLoading) return h(LoadingSpinner);

            return h('div', { className: 'min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-700 p-4' },
                h(Modal, {
                    title: "Error",
                    message: error,
                    isOpen: isModalOpen,
                    onClose: () => setIsModalOpen(false)
                }),
                h('div', { className: 'bg-white p-8 rounded-xl shadow-2xl w-full max-w-md' },
                    h('h2', { className: 'text-3xl font-bold text-center text-gray-800 mb-6' }, isSignup ? 'Sign Up' : 'Log In'),
                    h('form', { onSubmit: handleAuth, className: 'space-y-5' },
                        isSignup && h('div', null,
                            h('label', { className: 'block text-gray-700 text-sm font-bold mb-2', htmlFor: 'name' }, 'Name'),
                            h('input', {
                                id: 'name',
                                type: 'text',
                                className: 'shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400',
                                placeholder: 'Your Name',
                                value: name,
                                onChange: (e) => setName(e.target.value),
                                required: true
                            })
                        ),
                        h('div', null,
                            h('label', { className: 'block text-gray-700 text-sm font-bold mb-2', htmlFor: 'email' }, 'Email'),
                            h('input', {
                                id: 'email',
                                type: 'email',
                                className: 'shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400',
                                placeholder: 'Email',
                                value: email,
                                onChange: (e) => setEmail(e.target.value),
                                required: true
                            })
                        ),
                        h('div', null,
                            h('label', { className: 'block text-gray-700 text-sm font-bold mb-2', htmlFor: 'password' }, 'Password'),
                            h('input', {
                                id: 'password',
                                type: 'password',
                                className: 'shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-400',
                                placeholder: 'Password',
                                value: password,
                                onChange: (e) => setPassword(e.target.value),
                                required: true
                            })
                        ),
                        error && h('p', { className: 'text-red-500 text-sm italic' }, error),
                        h('button', {
                            type: 'submit',
                            className: 'w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-200 shadow-lg btn-hover'
                        }, isSignup ? 'Sign Up' : 'Log In')
                    ),
                    h('p', { className: 'text-center text-gray-600 text-sm mt-6' },
                        isSignup ? 'Already have an account?' : "Don't have an account?",
                        h('button', {
                            onClick: () => setIsSignup(!isSignup),
                            className: 'text-blue-600 hover:text-blue-800 font-semibold ml-2 transition-colors duration-200'
                        }, isSignup ? 'Log In' : 'Sign Up')
                    )
                )
            );
        }

        // Home Page
        function HomePage({ onNavigate }) {
            const { currentUser, isLoading } = useAppContext();
            const [leaderboard, setLeaderboard] = useState([]);

            useEffect(() => {
                // Simulated leaderboard data
                setLeaderboard([
                    { id: '1', name: 'John Doe', totalPoints: 150 },
                    { id: '2', name: 'Jane Smith', totalPoints: 120 },
                    { id: '3', name: 'Mike Johnson', totalPoints: 90 }
                ]);
            }, []);

            if (isLoading) return h(LoadingSpinner);

            return h('div', { className: 'min-h-screen bg-gray-100 flex flex-col items-center p-4' },
                h('header', { className: 'w-full max-w-4xl bg-white rounded-xl shadow-md p-4 flex justify-between items-center mb-6 mt-4' },
                    h('h1', { className: 'text-2xl font-bold text-gray-800' }, 'Task Monitor'),
                    h('div', { className: 'flex items-center space-x-4' },
                        h('button', {
                            className: 'relative group',
                            onClick: () => alert('Profile View')
                        },
                            h('img', {
                                src: `https://placehold.co/150x150/a78bfa/ffffff?text=${currentUser?.email?.[0]?.toUpperCase() || 'U'}`,
                                alt: 'Profile',
                                className: 'w-10 h-10 rounded-full border-2 border-blue-500 object-cover btn-hover'
                            })
                        ),
                        h('button', {
                            onClick: () => onNavigate('login'),
                            className: 'bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 shadow-md btn-hover'
                        }, 'Log Out')
                    )
                ),
                h('main', { className: 'w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-6' },
                    h('section', { className: 'bg-white rounded-xl shadow-lg p-6 border-t-4 border-blue-500' },
                        h('h2', { className: 'text-2xl font-bold text-gray-800 mb-4' }, 'Current Ongoing Task'),
                        h('div', { className: 'bg-blue-50 p-4 rounded-lg flex flex-col items-center justify-center text-center' },
                            h('p', { className: 'text-xl font-semibold text-blue-800 mb-3' }, 'Python Programming'),
                            h('p', { className: 'text-gray-600 mb-4' }, 'Master Python concepts and share your notes!'),
                            h('button', {
                                onClick: () => onNavigate('task'),
                                className: 'bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full transition-colors duration-200 shadow-md btn-hover'
                            }, 'Go to Task')
                        )
                    ),
                    h('section', { className: 'bg-white rounded-xl shadow-lg p-6 border-t-4 border-green-500' },
                        h('h2', { className: 'text-2xl font-bold text-gray-800 mb-4 flex items-center justify-between' },
                            'Leaderboard',
                            h('svg', { className: 'w-6 h-6 text-green-600', fill: 'currentColor', viewBox: '0 0 20 20' },
                                h('path', { fillRule: 'evenodd', d: 'M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z', clipRule: 'evenodd' })
                            )
                        ),
                        h('ul', { className: 'divide-y divide-gray-200' },
                            leaderboard.length > 0 ? leaderboard.map((user, index) =>
                                h('li', { key: user.id, className: 'py-3 flex items-center justify-between' },
                                    h('span', { className: 'font-semibold text-gray-700' },
                                        `#${index + 1} ${user.name}`
                                    ),
                                    h('span', { className: 'text-blue-600 font-bold' },
                                        `${user.totalPoints} pts`
                                    )
                                )
                            ) : h('li', { className: 'py-3 text-center text-gray-500' }, 'No participants yet.')
                        )
                    )
                )
            );
        }

        // Task Page
        function TaskPage({ onNavigate }) {
            const [userTaskPoints, setUserTaskPoints] = useState(0);
            const [hasUploadedNotes, setHasUploadedNotes] = useState(false);
            const [isModalOpen, setIsModalOpen] = useState(false);

            const handleUploadNotes = () => {
                setUserTaskPoints(prev => prev + 5);
                setHasUploadedNotes(true);
                setIsModalOpen(true);
            };

            return h('div', { className: 'min-h-screen bg-gray-100 p-4 flex flex-col items-center' },
                h(Modal, {
                    title: "Success!",
                    message: "Your notes have been uploaded and you've earned 5 points!",
                    isOpen: isModalOpen,
                    onClose: () => setIsModalOpen(false)
                }),
                h('header', { className: 'w-full max-w-4xl bg-white rounded-xl shadow-md p-4 flex justify-between items-center mb-6 mt-4' },
                    h('button', {
                        onClick: () => onNavigate('home'),
                        className: 'bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg flex items-center transition-colors duration-200 shadow-sm btn-hover'
                    },
                        h('svg', { className: 'w-4 h-4 mr-2', fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
                            h('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: '2', d: 'M10 19l-7-7m0 0l7-7m-7 7h18' })
                        ),
                        'Back to Home'
                    ),
                    h('h1', { className: 'text-2xl font-bold text-gray-800' }, 'Task Details: Python Programming')
                ),
                h('main', { className: 'w-full max-w-4xl bg-white rounded-xl shadow-lg p-6 border-t-4 border-blue-500' },
                    h('h2', { className: 'text-2xl font-bold text-gray-800 mb-4' }, 'Your Progress'),
                    h('div', { className: 'flex flex-col sm:flex-row justify-around items-center bg-blue-50 p-4 rounded-lg mb-6' },
                        h('div', { className: 'text-center mb-4 sm:mb-0' },
                            h('p', { className: 'text-lg text-gray-600' }, 'Your points for this task:'),
                            h('p', { className: 'text-4xl font-extrabold text-blue-700' }, userTaskPoints)
                        ),
                        h('div', { className: 'text-center' },
                            h('p', { className: 'text-lg text-gray-600' }, 'Notes Uploaded:'),
                            h('p', { className: `text-4xl font-extrabold ${hasUploadedNotes ? 'text-green-600' : 'text-red-500'}` }, hasUploadedNotes ? 'Yes' : 'No')
                        )
                    ),
                    h('div', { className: 'border-t border-gray-200 pt-6 mt-6' },
                        h('h2', { className: 'text-2xl font-bold text-gray-800 mb-4' }, 'Upload Notes'),
                        h('p', { className: 'text-gray-600 mb-4' },
                            'Upload your Python programming notes (PDF format). You will receive 5 points for each valid upload.'
                        ),
                        h('button', {
                            onClick: handleUploadNotes,
                            disabled: hasUploadedNotes,
                            className: `w-full ${hasUploadedNotes ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700'} text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200 shadow-md btn-hover`
                        }, hasUploadedNotes ? 'Notes Uploaded!' : 'Upload Notes (Get 5 Points!)')
                    )
                )
            );
        }

        // App Component
        function App() {
            const { currentUser, isLoading } = useAppContext();
            const [currentPage, setCurrentPage] = useState('login');

            useEffect(() => {
                if (!isLoading && currentUser) {
                    setCurrentPage('home');
                } else if (!isLoading && !currentUser) {
                    setCurrentPage('login');
                }
            }, [currentUser, isLoading]);

            const handleLoginSuccess = () => {
                set

ðŸŽ¨ **Generating images based on descriptions...**

âœ… **Images generated successfully! Here's your updated content:**

Here's a complete, modern, mobile-friendly version of your React application as a single HTML file with embedded CSS and JavaScript:

